/*! touch-directory 2014-05-12 */
var initial_floor_hash,initial_floor=DEFAULT_FLOOR,$button_list=$("#button-list"),$floor_buttons=$(".floor-button"),quick_find_diagram=new Diagram("quick-find-floor-map"),overall_category=$("#quick-find-floor-map").data("category"),$diagram=$("#diagram-pane"),update_heading=function(a){"use strict";$("h1").text(a)},floor_button_click_handler=function(a){"use strict";var b=$(this),c=b.data("floor-text"),d=b.attr("href"),e="diagram-"+d.substring(1);console.log("quick-find.js: hash: ",e),console.log("quick-find.js: href: ",d),a.preventDefault(),activate_scroll(d),window.location.hash=e,update_heading(c),console.log("quick-find.js: Updating historyIndex"),hc.updateHistoryIndex("add"),console.log("quick-find.js: Updating button state."),hc.setButtonState()},hashchange_handler=function(){"use strict";var a=window.location.hash.replace("#diagram-",""),b="#"+a,c=$(b+"-link"),d=c.data("floor-text");console.log("quick-find.js: href: ",b),activate_scroll(b),update_heading(d)};activate_scroll=function(a){console.log("quick-find.js: href: ",a),$diagram.css("top",-1*$(a).position().top+"px")},0===$("#"+initial_floor).length&&(initial_floor=$floor_buttons.first().data("floor")),$(window).on("hashchange",hashchange_handler),initial_floor_hash="#"+initial_floor,window.location.hash="#diagram-"+initial_floor,quick_find_diagram.bounceMarkerCategory(overall_category,floor_button_click_handler),$floor_buttons.on("click",floor_button_click_handler),$(".history-button").on("click",function(){hc.setButtonState()});